// Solutions for Exercise 4: Slices and Maps

package collections

// 1. CreateSlice
func CreateSlice() []int {
	nums := []int{1, 2, 3}
	nums = append(nums, 4, 5)
	return nums
}

// 2. SliceMiddle
func SliceMiddle(nums []int) []int {
	if len(nums) < 3 {
		return []int{}
	}
	return nums[1:3]
}

// 3. Double
func Double(nums []int) []int {
	result := make([]int, len(nums))
	for i, n := range nums {
		result[i] = n * 2
	}
	return result
}

// 4. FilterGreaterThan
func FilterGreaterThan(nums []int, threshold int) []int {
	var result []int
	for _, n := range nums {
		if n > threshold {
			result = append(result, n)
		}
	}
	return result
}

// 5. Sum
func Sum(nums []int) int {
	total := 0
	for _, n := range nums {
		total += n
	}
	return total
}

// 6. Max
func Max(nums []int) int {
	if len(nums) == 0 {
		return 0
	}
	max := nums[0]
	for _, n := range nums[1:] {
		if n > max {
			max = n
		}
	}
	return max
}

// 7. CreateScores
func CreateScores() map[string]int {
	return map[string]int{
		"alice":   95,
		"bob":     87,
		"charlie": 92,
	}
}

// 8. GetScore
func GetScore(scores map[string]int, name string) (int, bool) {
	score, ok := scores[name]
	return score, ok
}

// 9. GetTopScorer
func GetTopScorer(scores map[string]int) string {
	topName := ""
	topScore := 0
	first := true
	for name, score := range scores {
		if first || score > topScore {
			topName = name
			topScore = score
			first = false
		}
	}
	return topName
}

// 10. RemovePlayer
func RemovePlayer(scores map[string]int, name string) {
	delete(scores, name)
}

// 11. CountOccurrences
func CountOccurrences(items []string) map[string]int {
	counts := make(map[string]int)
	for _, item := range items {
		counts[item]++
	}
	return counts
}

// 12. GetAdults
func GetAdults(people []Person) []Person {
	var adults []Person
	for _, p := range people {
		if p.Age >= 18 {
			adults = append(adults, p)
		}
	}
	return adults
}

// 13. GetNames
func GetNames(people []Person) []string {
	names := make([]string, len(people))
	for i, p := range people {
		names[i] = p.Name
	}
	return names
}

// 14. FindByName
func FindByName(people []Person, name string) *Person {
	for i := range people {
		if people[i].Name == name {
			return &people[i]
		}
	}
	return nil
}
